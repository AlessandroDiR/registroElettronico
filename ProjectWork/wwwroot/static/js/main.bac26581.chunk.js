(this.webpackJsonpqrlog=this.webpackJsonpqrlog||[]).push([[0],{2:function(e,t,a){"use strict";(function(e){a.d(t,"j",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"k",(function(){return s})),a.d(t,"a",(function(){return m})),a.d(t,"m",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"l",(function(){return h})),a.d(t,"f",(function(){return b})),a.d(t,"i",(function(){return v}));var n=a(153),r=a.n(n),c=a(218),o="https://avocadoapi.azurewebsites.net",i="fitstic_logo.png",l="/adminpanel",s="/superpanel",m=function(e){return e<10?"0"+e:e},u=function(e){return/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])$/.test(e)},d=function(e,t){var a=e.split(/[/-]/g),n=t?new Date(Number(a[2]),Number(a[1])-1,Number(a[0])):new Date(e);return"".concat(n.getFullYear(),"-").concat(m(n.getMonth()+1),"-").concat(m(n.getDate()))},f=function(e){var t=new Date(e);return"".concat(m(t.getDate()),"-").concat(m(t.getMonth()+1),"-").concat(t.getFullYear())},p=function(e){for(var t=E(e.toLowerCase()).split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")},E=function(e){for(var t=e.toLowerCase().split("'"),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join("'")},g=function(){document.getElementsByTagName("body")[0].classList.add("login")},h=function(){document.getElementsByTagName("body")[0].classList.remove("login")},b=function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){return new Promise((function(a,n){var r=new FileReader;r.onload=function(t){var n=new e(t.target.result,"binary").toString("base64");a("data:image/png;base64,"+n)},r.onerror=n,r.readAsArrayBuffer(t)}))},t.abrupt("return",n(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var e=document.getElementById("mainBlock"),t=document.getElementById("popup"),a=e?e.clientWidth:0;e&&t&&(t.style.width=a+"px")};window.addEventListener("load",v),window.addEventListener("resize",v)}).call(this,a(256).Buffer)},234:function(e,t,a){e.exports=a(446)},239:function(e,t,a){},446:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),i=a(35);a(239),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(10),s=a(11),m=a(14),u=a(12),d=a(13),f=a(52),p=a(28),E=a(9),g=a.n(E),h={title:"Ops!",icon:"fa-times-circle",iconColor:"#de1e30",message:"\xc8 stato riscontrato un errore durante l'accesso.",time:3e3},b=a(2),v=a(18),N=a(447),C=a(448),y=a(231),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).maxLength=16,a.componentDidMount=function(){var e=parseInt(sessionStorage.getItem("corso"));g.a.get(b.j+"/api/corsi/"+e).then((function(e){var t=e.data;a.setState({corso:t})})),Object(b.i)()},a.changeCode=function(e){var t=e.target.value;a.setState({code:t}),a.tryToLog(t)},a.tryToLog=function(e){if(e.length<a.maxLength)return!1;a.switchInput(!0);var t=parseInt(sessionStorage.getItem("corso")),n=parseInt(sessionStorage.getItem("classe"));g.a.post(b.j+"/api/firma",{code:e,idCorso:t,anno:n}).then((function(e){a.setState({popup:e.data}),a.showMessagePopup()})).catch((function(e){a.setState({popup:h}),a.showMessagePopup()}))},a.switchInput=function(e){var t=document.getElementById("mainInput");t&&(e?t.setAttribute("disabled","disabled"):(t.value="",t.removeAttribute("disabled"),t.focus()))},a.showMessagePopup=function(){var e=document.getElementById("popup");e&&(e.classList.add("show"),setTimeout((function(){e.classList.remove("show"),a.switchInput(!1)}),a.state.popup.time))},a.cambiaCorso=function(){sessionStorage.removeItem("corso"),sessionStorage.removeItem("classe"),sessionStorage.removeItem("confermaTutor"),Fe.push("/")},a.switchFocus=function(){a.setState({focus:!a.state.focus})},a.state={code:"",popup:h,corso:null,focus:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.popup,a=e.corso,n=e.focus,c=r.a.createElement(v.a,{type:"loading",spin:!0});return r.a.createElement("div",{className:"col",id:"mainBlock"},r.a.createElement("div",{className:"text-center w-100"},r.a.createElement("h2",{className:"mb-1 font-weight-normal"},"Scannerizza il codice"),r.a.createElement("input",{autoFocus:!0,type:"password",value:this.state.code,onChange:this.changeCode,maxLength:this.maxLength,id:"mainInput",onFocus:this.switchFocus,onBlur:this.switchFocus}),r.a.createElement(v.a,{type:"scan",className:"fa-9x d-block text-blue"}),n?"":r.a.createElement("div",{className:"text-danger text-center mt-2"},"Clicca sulla pagina per ristabilire il focus e firmare."),r.a.createElement("div",{className:"top-info"},a?a.nome:r.a.createElement(N.a,{indicator:c}),r.a.createElement(C.a,{type:"vertical",style:{height:20}}),1===parseInt(sessionStorage.getItem("classe"))?"Primo anno":"Secondo anno",r.a.createElement(C.a,{type:"vertical",style:{height:20}}),r.a.createElement(y.a,{placement:"bottomRight",title:"Cambia il corso o la classe per firmare"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-blue",onClick:this.cambiaCorso},r.a.createElement("i",{className:"far fa-repeat-alt fa-fw mr-1"}),"Cambia")))),r.a.createElement("div",{id:"popup"},r.a.createElement("div",{className:"w-100"},r.a.createElement("i",{className:"fal fa-fw fa-lg fa-6x "+t.icon,style:{color:t.iconColor}}),r.a.createElement("h2",{className:"mt-5"},t.title),r.a.createElement("div",{className:"mt-2"},t.message))))}}]),t}(r.a.PureComponent),S=a(108),k=a(109),w=a(110),j=a(454),O=(a(181),a(182),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=parseInt(sessionStorage.getItem("corso")),t=parseInt(sessionStorage.getItem("classe"));g.a.get(b.j+"/api/calendari/"+e+"/"+t).then((function(e){var t=e.data;a.setState({calendar:t})}))},a.state={calendar:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.calendar;if(!e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:t}))}return r.a.createElement("div",{className:"col px-5 py-3",id:"mainBlock"},r.a.createElement(S.a,{plugins:[w.a,k.a],events:{googleCalendarId:e.idGoogleCalendar},googleCalendarApiKey:"AIzaSyCEEaAbHOYhofQs-iLdHd_J8-KyD_IlRbE",defaultView:"dayGridMonth",fixedWeekCount:!1,firstDay:1,themeSystem:"bootstrap",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1},buttonText:{today:"Mese corrente"},header:{right:"prev, next"},locale:"it",eventClick:function(e){e.jsEvent.preventDefault();var t=e.event;j.a.info({maskClosable:!0,centered:!0,icon:null,title:t.title,content:r.a.createElement("div",{className:"mt-3",style:{fontSize:20}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 pr-0"},r.a.createElement("span",{className:"label"},"Inizio")),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"desc"},Object(b.a)(t.start.getHours()),":",Object(b.a)(t.start.getMinutes())))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 pr-0"},r.a.createElement("span",{className:"label"},"Fine")),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"desc"},Object(b.a)(t.end.getHours()),":",Object(b.a)(t.end.getMinutes())))),t.extendedProps.location&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 pr-0"},r.a.createElement("span",{className:"label"},"Luogo")),r.a.createElement("div",{className:"col-9",style:{fontSize:15}},t.extendedProps.location)))})}}))}}]),t}(r.a.PureComponent)),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/corsi").then((function(e){var t=e.data;a.setState({corsi:t})})),Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.chooseCorso=function(e){sessionStorage.setItem("corso",e.toString()),Fe.push("/")},a.state={corsi:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.corsi;if(!t){var a=r.a.createElement(v.a,{type:"loading",style:{fontSize:50,color:"#fff"},spin:!0});return r.a.createElement("div",{className:"col-12 px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:a}))}return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("div",{className:"w-100 bg-white py-3 rounded shadow"},r.a.createElement("h3",{className:"text-center"},"Scegli il corso"),t.map((function(t){return r.a.createElement("div",{className:"py-2 text-center pointer corso-item",onClick:function(){return e.chooseCorso(t.idCorso)}},r.a.createElement("span",{className:"align-middle"},t.nome))}))))}}]),t}(r.a.PureComponent),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.chooseClasse=function(e){sessionStorage.setItem("classe",e.toString()),Fe.push("/")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("div",{className:"w-100 bg-white py-3 rounded shadow"},r.a.createElement("h3",{className:"text-center"},"Scegli la classe"),r.a.createElement("div",{className:"py-2 text-center pointer corso-item",onClick:function(){return e.chooseClasse(1)}},"Primo anno"),r.a.createElement("div",{className:"py-2 text-center pointer corso-item",onClick:function(){return e.chooseClasse(2)}},"Secondo anno")))}}]),t}(r.a.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).catchNull=function(){a.setState({logo:b.g})},a.componentDidMount=function(){a.props.idCorso?g.a.get(b.j+"/api/corsi/"+a.props.idCorso).then((function(e){var t=e.data;t.logo?a.setState({logo:t.logo}):a.catchNull()})).catch((function(e){a.catchNull()})):a.catchNull()},a.state={logo:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.logo;if(!e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50,color:"#fff"},spin:!0});return r.a.createElement("div",{className:"text-center py-4"},r.a.createElement(N.a,{indicator:t}))}return this.props.forLogin?r.a.createElement("img",{src:e,height:"40",className:"float-right logo",alt:"logo"}):r.a.createElement("div",{className:"logo-block px-3 py-4"},r.a.createElement("img",{src:e,height:"100",className:"mx-auto d-block logo",alt:"logo"}))}}]),t}(r.a.PureComponent),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.cambiaCodice=function(e){var t=e.target.value;a.setState({codice:t})},a.cambiaScelta=function(){sessionStorage.removeItem("corso"),sessionStorage.removeItem("classe"),Fe.push("/")},a.inviaCodice=function(e){e.preventDefault(),g.a.post(b.j+"/api/firma/accedi",{idCorso:a.props.idCorso,codice:a.state.codice}).then((function(e){"success"===e.data.trim()?(sessionStorage.setItem("confermaTutor","true"),Fe.push("/")):j.a.error({title:"Errore!",content:"Codice non valido."})}))},a.state={codice:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("form",{className:"w-100 bg-white p-3 rounded shadow",onSubmit:this.inviaCodice},r.a.createElement("h3",{className:"text-center"},"Conferma del coordinatore"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Codice di conferma"),r.a.createElement("input",{name:"codice",type:"password",className:"form-control",value:this.state.codice,onChange:this.cambiaCodice})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"pr-1 col-6"},r.a.createElement("input",{type:"button",value:"Annulla scelta",className:"btn btn-lg btn-link text-danger w-100 text-uppercase",onClick:this.cambiaScelta})),r.a.createElement("div",{className:"pl-1 col"},r.a.createElement("input",{type:"submit",value:"Prosegui",className:"btn btn-lg btn-success w-100 text-uppercase"})))))}}]),t}(r.a.PureComponent),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).focusInput=function(){var e=document.getElementById("mainInput");e&&e.focus()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=sessionStorage.getItem("corso"),t=sessionStorage.getItem("classe"),a=sessionStorage.getItem("confermaTutor");return e?t?a?r.a.createElement("div",{className:"container-fluid",onClick:this.focusInput},r.a.createElement(f.b,{history:Fe},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 bg-blue p-0 menu"},r.a.createElement(I,{idCorso:sessionStorage.getItem("corso")}),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/")},exact:!0,to:"/firme/"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-home-alt fa-fw mr-1"})," Home")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/calendar")},exact:!0,to:"/firme/calendar"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-calendar-alt fa-fw mr-1"})," Calendario"))),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/firme/",render:function(){return r.a.createElement(x,null)}}),r.a.createElement(f.a,{exact:!0,path:"/firme/calendar",render:function(){return r.a.createElement(O,null)}}))))):r.a.createElement(D,{idCorso:parseInt(e)}):r.a.createElement(M,null):r.a.createElement(z,null)}}]),t}(r.a.Component),L=a(458),T=function(){function e(){Object(l.a)(this,e),this.maximum=65535}return Object(s.a)(e,[{key:"encode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-4,a="";t<0&&(t=-t);for(var n=0;n<e.length;n++){var r=e[n],c=r.charCodeAt(0),o=c+t;o>this.maximum&&(o-=this.maximum+1),a+=r=String.fromCharCode(o)}return a}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-4,a="";t<0&&(t=-t);for(var n=0;n<e.length;n++){var r=e[n],c=r.charCodeAt(0),o=c-t;o<0&&(o=this.maximum+(o+1)),a+=r=String.fromCharCode(o)}return a}}]),e}(),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.changeInputName=function(e){var t=e.target.value;a.setState({adminName:t})},a.changeInputPassword=function(e){var t=e.target.value;a.setState({adminPsw:t})},a.tryLogin=function(e){e.preventDefault();var t=a.state,n=t.adminName,r=t.adminPsw,c=(new T).encode(r);g.a.post(b.j+"/api/coordinatori/logincoordinatore",{username:n.trim(),password:c}).then((function(e){var t=e.data;!function(e){try{return"idCorso"in e&&"nome"in e&&"cognome"in e}catch(t){return!1}}(t)?j.a.error({title:"Errore!",content:"Username o Password errati!",centered:!0,maskClosable:!0}):(sessionStorage.setItem("adminSession",JSON.stringify(t)),Fe.push(b.b),L.a.success("Login effettuato con successo!"))}))},a.state={adminName:"",adminPsw:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.adminName,a=e.adminPsw;return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("form",{className:"w-100 bg-white p-3 rounded shadow",onSubmit:this.tryLogin},r.a.createElement("h3",{className:"d-inline-block"},"Accesso coordinatori"),r.a.createElement("img",{src:b.g,height:"40",className:"float-right logo",alt:"logo"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Utente di accesso"),r.a.createElement("input",{name:"username",type:"text",className:"form-control",value:t,onChange:this.changeInputName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Password di accesso"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",value:a,onChange:this.changeInputPassword})),r.a.createElement("input",{type:"submit",value:"Accedi",className:"btn btn-lg btn-success w-100 text-uppercase"})))}}]),t}(r.a.PureComponent),F=a(233),q=a(451),B=a(453),W=a(452),R=a(459),U=a(72),H=function(e,t,a,n){var c,o=new T,i=JSON.parse(sessionStorage.getItem("adminSession"));j.a.confirm({title:"Prima di procedere...",content:r.a.createElement("div",{style:{marginLeft:-38}},r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement("label",{className:"text-secondary"},"Inserisci la tua password per confermare l'identit\xe0"),r.a.createElement("input",{type:"password",ref:function(e){return c=e},className:"form-control"}))),okText:"Conferma identit\xe0",cancelText:"Annulla",onOk:function(){"get"===t?g.a.get(e).then(n):"post"===t?(a.password=o.encode(c.value),a.idCoordinatore=i.idCoordinatore,g.a.post(e,a).then(n)):"put"===t&&(a.password=o.encode(c.value),a.idCoordinatore=i.idCoordinatore,g.a.put(e,a).then(n))}})},Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/studenti/"+a.props.corso).then((function(e){a.setState({students:e.data})}))},a.showConfirm=function(e){var t=a.state.students,n="";j.a.confirm({title:"ATTENZIONE: si sta per ritirare uno studente (".concat(e.nome," ").concat(e.cognome,")"),content:r.a.createElement("div",{style:{marginLeft:-38}},r.a.createElement("p",null,"I dati identificativi dello studente e le sue frequenze verranno comunque mantenuti."),r.a.createElement("label",{className:"text-secondary"},"Data di ritiro"),r.a.createElement(q.a,{locale:U.a,className:"w-100",onChange:function(e,t){return n=t},format:"DD-MM-YYYY"})),okText:"Conferma ritiro",okType:"danger",cancelText:"Annulla",onOk:function(){if(""===n)return j.a.error({title:"Errore!",content:"Seleziona una data valida."}),!0;var r=Object(b.e)(n,!0),c=e;c.ritirato="true",c.dataRitiro=r,a.setState({students:null}),g.a.put(b.j+"/api/studenti/"+e.idStudente,Object(F.a)({},c)).then((function(n){var r=n.data,c=t;c[t.indexOf(e)]=r,a.setState({students:c}),L.a.success("Studente ritirato con successo!")}))}})},a.changeSelection=function(e){var t=a.state.selection.find((function(t){return t===e}))?a.state.selection.filter((function(t){return t.idStudente!==e.idStudente})):a.state.selection.concat(e);a.setState({selection:t})},a.selectAll=function(e,t){var n=t.target.checked?a.state.students.filter((function(t){return t.annoFrequentazione===e&&!t.ritirato})):a.state.selection.filter((function(t){return t.annoFrequentazione!==e}));a.setState({selection:n})},a.showHideModal=function(){a.state.selection.length?a.setState({confirmModal:!a.state.confirmModal}):j.a.info({title:"Attenzione!",content:"Devi selezionare almeno uno studente."})},a.moveStudents=function(){var e=document.getElementById("moveToClass"),t=parseInt(e.value),n=a.state.selection.map((function(e){var n=e;return n.idCorso=a.props.corso,n.annoFrequentazione=t,n}));1!==t&&2!==t&&j.a.error({title:"Errore!",content:"L'anno selezionato non \xe8 valido."}),a.setState({students:null,selection:[]}),g.a.put(b.j+"/api/studenti",n).then((function(e){a.setState({students:e.data}),L.a.success("Studenti spostati con successo!")})),a.showHideModal()},a.allRetired=function(e){var t=!0;return e.forEach((function(e){e.ritirato||(t=!1)})),!t},a.sortbyId=function(e,t){return e.idStudente>t.idStudente?-1:e.idStudente<t.idStudente?1:0},a.promuoviStudent=function(e){j.a.confirm({title:"".concat(e.nome," ").concat(e.cognome),content:"Confermi di voler segnare questo studente come promosso?",okText:"Conferma",okType:"primary",cancelText:"Annulla",onOk:function(){a.setState({students:null}),H(b.j+"/api/studenti/promuovistudente","post",{idStudente:e.idStudente},(function(e){var t=e.data;a.setState({students:t}),L.a.success("Studente promosso con successo!")}))}})},a.state={students:null,selection:[],confirmModal:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.students,n=t.selection,c=B.a.Panel,o=W.a.TabPane;if(!a){var i=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:i}))}var l=[a.filter((function(e){return 1===e.annoFrequentazione&&!e.promosso})).sort(this.sortbyId).sort((function(e,t){return e.ritirato?0:-1})),a.filter((function(e){return 2===e.annoFrequentazione&&!e.promosso})).sort(this.sortbyId).sort((function(e,t){return e.ritirato?0:-1}))],s=a.filter((function(e){return e.promosso})).sort(this.sortbyId);return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-3 text-center"},"Studenti del corso"),r.a.createElement(W.a,{defaultActiveKey:"1"},r.a.createElement(o,{tab:r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-user fa-fw mr-1"})," Studenti attivi"),key:"1"},r.a.createElement("button",{className:"btn btn-success float-right",type:"button",onClick:function(){return Fe.push(b.b+"/studenti/new")}},r.a.createElement("i",{className:"fal fa-plus"})," Aggiungi studente"),r.a.createElement("button",{className:"btn btn-orange float-right mr-2",type:"button",onClick:this.showHideModal},r.a.createElement("i",{className:"fa fa-arrows-alt"})," Sposta studenti"),r.a.createElement("button",{className:"btn btn-blue float-right mr-2",type:"button",onClick:function(){return Fe.push(b.b+"/studenti/import")}},r.a.createElement("i",{className:"fa fa-file-csv"})," Importa da CSV"),r.a.createElement("div",{className:"clearfix"}),r.a.createElement(W.a,{defaultActiveKey:"0"},l.map((function(t,a){if(!t[0])return!1;var c=e.allRetired(t),i=1===t[0].annoFrequentazione?"Primo":"Secondo";return t.forEach((function(e){-1!==n.indexOf(e)||e.ritirato||(c=!1)})),r.a.createElement(o,{tab:i+" anno",key:a.toString()},r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",{className:"border-top-0"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"}},r.a.createElement(y.a,{title:"Seleziona tutti"},r.a.createElement(R.a,{onChange:function(a){return e.selectAll(t[0].annoFrequentazione,a)},checked:c}))),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Cognome"),r.a.createElement("th",null,"Codice Fiscale"),r.a.createElement("th",{style:{width:"15%"}},"Frequenza"),r.a.createElement("th",{style:{width:"26%"}},"Azioni")),t.map((function(t){var a=!!e.state.selection.find((function(e){return e===t})),n=t.ritirato?"light font-italic":"white";return r.a.createElement("tr",{className:"bg-"+n},r.a.createElement("td",null,t.ritirato?r.a.createElement(R.a,{disabled:!0}):r.a.createElement(R.a,{onChange:function(){return e.changeSelection(t)},checked:a})),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.nome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.cognome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.cf),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.frequenza,"%"),r.a.createElement("td",null,r.a.createElement(y.a,{title:"Dettagli"},r.a.createElement("button",{type:"button",className:"btn btn-info circle-btn",onClick:function(){return Fe.push(b.b+"/studenti/"+t.idStudente)}},r.a.createElement("i",{className:"fa fa-info"}))),!t.ritirato&&r.a.createElement(y.a,{title:"Modifica"},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white circle-btn ml-2",onClick:function(){return Fe.push(b.b+"/studenti/edit/"+t.idStudente)}},r.a.createElement("i",{className:"fa fa-pen"}))),!t.ritirato&&r.a.createElement(y.a,{title:"Segna come ritirato"},r.a.createElement("button",{type:"button",className:"btn btn-danger circle-btn ml-2",onClick:function(){return e.showConfirm(t)}},r.a.createElement("i",{className:"fa fa-user-times"}))),t.ritirato&&r.a.createElement(y.a,{title:"Studente ritirato"},r.a.createElement("button",{type:"button",className:"circle-btn ml-2 border-0"},r.a.createElement("i",{className:"fa fa-user-slash"}))),r.a.createElement(y.a,{title:"Segna come promosso"},r.a.createElement("button",{type:"button",className:"btn btn-success circle-btn ml-2",onClick:function(){return e.promuoviStudent(t)}},r.a.createElement("i",{className:"fa fa-user-check"})))))})))))})))),r.a.createElement(o,{tab:r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-user-graduate fa-fw mr-1"})," Studenti archiviati"),key:"2"},r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",{className:"border-top-0"},r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-check-circle fa-lg text-success"})),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Cognome"),r.a.createElement("th",null,"Codice Fiscale"),r.a.createElement("th",{style:{width:"15%"}},"Frequenza"),r.a.createElement("th",{style:{width:"20%"}},"Azioni")),s.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("i",{className:"fa fa-check-circle fa-lg text-success"})),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.nome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.cognome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.cf),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.frequenza,"%"),r.a.createElement("td",null,r.a.createElement(y.a,{title:"Dettagli"},r.a.createElement("button",{type:"button",className:"btn btn-info circle-btn",onClick:function(){return Fe.push(b.b+"/studenti/"+e.idStudente)}},r.a.createElement("i",{className:"fa fa-info"})))))})))))),r.a.createElement(j.a,{title:"Sposta studenti",visible:this.state.confirmModal,onCancel:this.showHideModal,cancelText:"Annulla",okText:"Conferma",onOk:this.moveStudents},r.a.createElement("label",{className:"text-secondary"},"Scegliere l'anno in cui spostare gli studenti"),r.a.createElement("select",{className:"custom-select",id:"moveToClass"},r.a.createElement("option",{value:"1"},"Primo anno"),r.a.createElement("option",{value:"2"},"Secondo anno")),r.a.createElement(B.a,{bordered:!1},r.a.createElement(c,{header:"Mostra studenti selezionati",key:1},n.map((function(e){return r.a.createElement("span",{className:"d-block"},r.a.createElement("strong",null,e.nome," ",e.cognome)," (",e.annoFrequentazione,"\xb0 anno)")}))))))}}]),t}(r.a.PureComponent),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeCognome=function(e){var t=e.target.value;a.setState({cognome:t})},a.changeEmail=function(e){var t=e.target.value.trim();a.setState({email:t})},a.changeData=function(e){a.setState({dataNascita:e})},a.changeAnnoScolastico=function(e){var t=e.target.value;a.setState({annoScolastico:Number(t)})},a.changeCF=function(e){var t=e.target.value.trim();a.setState({cf:t})},a.aggiungiStudente=function(){var e=a.state,t=e.nome,n=e.cognome,r=e.dataNascita,c=e.cf,o=e.annoScolastico,i=e.email;if(""!==t.trim()&&""!==n.trim()&&""!==r&&""!==c&&o&&""!==i)if(16===c.length){var l=[{nome:t.trim(),cognome:n.trim(),cf:c,password:c,email:i,annoFrequentazione:o,dataNascita:Object(b.e)(r,!0),idCorso:a.props.corso}];H(b.j+"/api/studenti","post",{studenti:l},(function(e){L.a.success("Studente creato con successo!"),Fe.push(b.b+"/studenti")}))}else j.a.error({title:"Errore!",content:"Codice Fiscale non valido."});else j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.state={nome:"",cognome:"",cf:"",annoScolastico:1,email:"",dataNascita:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nome,n=t.cognome,c=t.cf,o=t.email;return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Aggiungi un nuovo studente"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:a,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Cognome"),r.a.createElement("input",{name:"surname",type:"text",className:"form-control",value:n,onChange:this.changeCognome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Anno frequentato"),r.a.createElement("select",{name:"anno",onChange:this.changeAnnoScolastico,className:"custom-select"},r.a.createElement("option",{value:1},"Primo anno"),r.a.createElement("option",{value:2},"Secondo anno")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Data di nascita"),r.a.createElement(q.a,{locale:U.a,className:"w-100 select-date",onChange:function(t,a){return e.changeData(a)},format:"DD-MM-YYYY"})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"E-mail"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",value:o,onChange:this.changeEmail})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Codice Fiscale"),r.a.createElement("input",{name:"cf",type:"text",className:"form-control",maxLength:16,value:c,onChange:this.changeCF}))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.aggiungiStudente},"Aggiungi studente")))}}]),t}(r.a.PureComponent),G=a(85),V=a(229),J=a(455),_=a(449),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/studenti/getdetailedpresences/"+a.props.studente).then((function(e){var t=e.data;a.setState({presenze:t})}))},a.changeEntrata=function(e,t){var n=e.target.value.trim(),r=a.state.editingList.map((function(e){return e.idPresenza===t&&(e.ingresso=n),e}));a.setState({editingList:r})},a.changeUscita=function(e,t){var n=e.target.value.trim(),r=a.state.editingList.map((function(e){return e.idPresenza===t&&(e.uscita=n),e}));a.setState({editingList:r})},a.startTimeEdit=function(e){a.setState({editingList:a.state.editingList.concat(e)})},a.animateTds=function(e,t){e.classList.add("edited"),t.classList.add("edited"),setTimeout((function(){e.classList.remove("edited"),t.classList.remove("edited")}),1e3)},a.confirmEdit=function(e,t,n){var r=a.state,c=r.presenze,o=r.editingList,i=o.find((function(t){return t.idPresenza===e}));Object(b.m)(i.ingresso)&&Object(b.m)(i.uscita)?g.a.put(b.j+"/api/presenze/"+e,{idPresenza:i.idPresenza,idStudente:i.idStudente,ingresso:i.ingresso,uscita:i.uscita,idLezione:i.idLezione}).then((function(r){var l=r.data;if("success"===l){var s=c.map((function(t){return t.idPresenza===e?i:t}));a.setState({presenze:s,editingList:o.filter((function(e){return e.idPresenza!==i.idPresenza}))}),a.animateTds(t,n),a.props.reloadTotali()}else j.a.error({title:"Errore!",content:l})})):j.a.error({title:"Errore!",content:"Orari non validi! (ore:minuti:secondi)",maskClosable:!0})},a.getCategorie=function(){var e=a.state.presenze,t=[];return e.forEach((function(e){-1===t.indexOf(e.lezione)&&t.push(e.lezione)})),t},a.changeFilter=function(e){a.setState({filter:""===e?null:e})},a.state={presenze:null,editingList:[],filter:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.presenze,n=t.editingList,c=t.filter,o=_.a.Option;if(!a){var i=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",null,r.a.createElement(N.a,{indicator:i,className:"mt-3"}))}var l=c?a.filter((function(e){return e.lezione.toLowerCase()===c.toLowerCase()})):a;return r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",{className:"d-inline-block"},"Presenze dello studente"),r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{className:"d-inline-block text-secondary mr-2"},"Filtra per materia: "),r.a.createElement(_.a,{defaultValue:"",style:{width:150},onChange:this.changeFilter,showSearch:!0},r.a.createElement(o,{value:""},"Nessuna"),this.getCategorie().map((function(e){return r.a.createElement(o,{value:e},e)})))),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Giorno"),r.a.createElement("th",null,"Entrata"),r.a.createElement("th",null,"Uscita"),r.a.createElement("th",null,"Lezione"),r.a.createElement("th",null,"Azioni")),l.map((function(t){var a,c,o=n.find((function(e){return e.idPresenza===t.idPresenza}));return r.a.createElement("tr",null,r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},Object(b.d)(t.data)),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate",ref:function(e){return a=e}},o?r.a.createElement("input",{type:"text",className:"form-control edit-time",value:o.ingresso,onChange:function(a){return e.changeEntrata(a,t.idPresenza)}}):r.a.createElement("span",null,t.ingresso)),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate",ref:function(e){return c=e}},o?r.a.createElement("input",{type:"text",className:"form-control edit-time",value:o.uscita,onChange:function(a){return e.changeUscita(a,t.idPresenza)}}):r.a.createElement("span",null,t.uscita)),r.a.createElement(y.a,{title:t.lezione},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.lezione)),r.a.createElement("td",null,o?r.a.createElement(y.a,{title:"Conferma modifiche"},r.a.createElement("button",{type:"button",className:"btn btn-success circle-btn",onClick:function(){return e.confirmEdit(t.idPresenza,a,c)}},r.a.createElement("i",{className:"fa fa-check"}))):r.a.createElement(y.a,{title:"Modifica orari"},r.a.createElement("button",{type:"button",className:"btn btn-orange circle-btn",onClick:function(){return e.startTimeEdit(t)}},r.a.createElement("i",{className:"fa fa-user-edit"})))))})))))}}]),t}(r.a.PureComponent),X=a(71),Z=a.n(X),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Number(a.props.match.params.id);isNaN(e)&&Fe.push(b.b),g.a.get(b.j+"/api/studenti/getstudentibyid/"+e).then((function(e){a.setState({student:e.data})})),g.a.get(b.j+"/api/studenti/gettotaleorelezioni/"+e).then((function(e){a.setState({oreTotali:a.roundToTwo(e.data)})})),a.loadTotali()},a.loadTotali=function(){a.setState({totPresenze:null}),g.a.get(b.j+"/api/studenti/gethoursamount/"+a.props.match.params.id).then((function(e){a.setState({totPresenze:a.roundToTwo(e.data)})}))},a.toggleModal=function(){a.setState({modal:!a.state.modal})},a.downloadQR=function(){var e=a.state.student,t=document.getElementById("qr-code-image").toDataURL("image/png").replace("image/png","image/octet-stream"),n=document.createElement("a");n.href=t,n.download="qrcode".concat(e.nome).concat(e.cognome,".png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},a.getQRCode=function(){return a.state.student.codice},a.roundToTwo=function(e){return Math.round(e)},a.state={student:null,totPresenze:null,oreTotali:null,modal:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.student,a=e.totPresenze,n=e.oreTotali,c=e.modal;if(!t){var o=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:o}))}var i=null!==t.frequenza?this.roundToTwo(100*a/n):null,l=i>=80?"var(--success)":"var(--danger)";return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"col-12 col-md-6 pl-md-0 mb-2 mb-md-0"},r.a.createElement("div",{className:"p-3 bg-white border rounded"},r.a.createElement("span",{className:"border-text"},t.ritirato?"Ritirato: "+t.dataRitiro:1===t.annoFrequentazione?"Primo anno":"Secondo anno"),r.a.createElement("h4",{className:"text-uppercase mb-2 text-truncate"},t.nome," ",t.cognome),r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Data di nascita"),": ",Object(b.d)(t.dataNascita)),r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"E-mail"),": ",t.email),r.a.createElement(G.a,{onClick:this.toggleModal,className:"float-right",type:"link"},"Mostra codice QR"),r.a.createElement("div",{className:"clearfix"}))),r.a.createElement("div",{className:"col-12 col-md-6 pr-md-0"},r.a.createElement("div",{className:"p-3 bg-white border rounded"},null!==i?r.a.createElement(V.a,{type:"circle",percent:i,width:80,className:"float-left mr-3",strokeColor:l,format:function(e){return"".concat(e,"%")}}):r.a.createElement(N.a,{indicator:r.a.createElement(v.a,{type:"loading",spin:!0})}),null!==n&&null!==a?r.a.createElement(J.a,{title:"Presenze totali (ore)",value:a,suffix:"/ "+n,decimalSeparator:",",groupSeparator:"."}):r.a.createElement(N.a,{indicator:r.a.createElement(v.a,{type:"loading",spin:!0})}),r.a.createElement("div",{className:"clearfix"})))),r.a.createElement(K,{studente:t.idStudente,reloadTotali:this.loadTotali}),r.a.createElement(j.a,{visible:c,maskClosable:!0,centered:!0,title:r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-qrcode fa-fw fa-lg text-primary mr-2"}),"Codice QR dello studente"),onCancel:this.toggleModal,width:350,onOk:this.downloadQR,footer:[r.a.createElement(G.a,{type:"primary",onClick:this.downloadQR},r.a.createElement("i",{className:"far fa-arrow-to-bottom mr-2"})," Salva codice"),r.a.createElement(G.a,{type:"default",onClick:this.toggleModal},"Chiudi")]},r.a.createElement("div",{className:"text-center"},r.a.createElement("p",null,"Salva il codice sottostante e condividilo con ",r.a.createElement("strong",null,t.nome," ",t.cognome,".")),r.a.createElement("div",{className:"my-2"},r.a.createElement(Z.a,{id:"qr-code-image",value:this.getQRCode(),size:200})))))}}]),t}(r.a.PureComponent),ee=a(84),te=a(450),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/docenti").then((function(e){a.setState({docenti:e.data})}))},a.switchList=function(){a.setState({showAll:!a.state.showAll})},a.showDeleteConfirm=function(e){var t=Object(ee.a)(a);j.a.confirm({title:"ATTENZIONE: si sta per ritirare un docente (".concat(e.nome," ").concat(e.cognome,")"),content:"I dati identificativi del docente, le lezioni e le presenze verranno comunque mantenuti, ma il docente verr\xe0 ritirato da tutti i corsi in cui insegna. In seguito sar\xe0 possibile reintegrarlo nel corso se necessario.",okText:"Confermo",okType:"danger",cancelText:"Annulla",onOk:function(){t.setState({docenti:null}),g.a.delete(b.j+"/api/docenti/"+e.idDocente).then((function(e){var a=e.data;t.setState({docenti:a}),L.a.success("Docente ritirato con successo!")}))}})},a.sortbyId=function(e,t){return e.idDocente>t.idDocente?1:e.idDocente<t.idDocente?-1:0},a.backRetire=function(e){var t=Object(ee.a)(a);j.a.confirm({title:"".concat(e.nome," ").concat(e.cognome),content:"Questo docente verr\xe0 reintegrato all'interno del corso.",okText:"Confermo",okType:"danger",cancelText:"Annulla",onOk:function(){t.setState({docenti:null}),g.a.delete(b.j+"/api/docenti/"+e.idDocente).then((function(e){var a=e.data;t.setState({docenti:a}),L.a.success("Docente reintegrato con successo!")}))}})},a.isInCorso=function(e){return-1!==e.corsi.indexOf(a.props.corso)},a.state={docenti:null,showAll:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.docenti,n=t.showAll;if(!a){var c=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:c}))}var o=(n?a:a.filter((function(t){return e.isInCorso(t)}))).sort(this.sortbyId).sort((function(e,t){return e.ritirato?0:-1}));return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-3 text-center"},"Docenti del corso"),r.a.createElement("label",{className:"pointer",style:{transform:"translateY(50%)"}},r.a.createElement(te.a,{checked:!n,onChange:this.switchList,className:"mr-1 align-top"})," Mostra solo i docenti del mio corso"),r.a.createElement("button",{className:"btn btn-success float-right mb-3",type:"button",onClick:function(){return Fe.push(b.b+"/docenti/new")}},r.a.createElement("i",{className:"fal fa-plus"})," Aggiungi docente"),r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Cognome"),r.a.createElement("th",{style:{width:"15%"}},"Ore 1\xb0 anno"),r.a.createElement("th",{style:{width:"15%"}},"Ore 2\xb0 anno"),r.a.createElement("th",{style:{width:"20%"}},"Azioni")),o.map((function(t){var a=t.ritirato?"light font-italic":e.isInCorso(t)?"white":"transblue";return r.a.createElement("tr",{className:"bg-"+a},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.nome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.cognome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.monteOre.orePrimo),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.monteOre.oreSecondo),r.a.createElement("td",null,r.a.createElement(y.a,{title:"Dettagli"},r.a.createElement("button",{type:"button",className:"btn btn-info circle-btn",onClick:function(){return Fe.push(b.b+"/docenti/"+t.idDocente)}},r.a.createElement("i",{className:"fa fa-info"}))),!t.ritirato&&r.a.createElement(y.a,{title:"Modifica"},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white circle-btn ml-2",onClick:function(){return Fe.push(b.b+"/docenti/edit/"+t.idDocente)}},r.a.createElement("i",{className:"fa fa-pen"}))),!t.ritirato&&r.a.createElement(y.a,{title:"Segna come ritirato"},r.a.createElement("button",{type:"button",className:"btn btn-danger circle-btn ml-2",onClick:function(){return e.showDeleteConfirm(t)}},r.a.createElement("i",{className:"fa fa-user-times"}))),t.ritirato&&r.a.createElement(y.a,{title:"Reintegra nel corso"},r.a.createElement("button",{type:"button",className:"btn btn-danger circle-btn ml-2",onClick:function(){return e.backRetire(t)}},r.a.createElement("i",{className:"fa fa-reply"})))))})))))}}]),t}(r.a.PureComponent),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/corsi").then((function(e){var t=e.data;a.setState({corsi:t})})),g.a.get(b.j+"/api/materie/getmateriebycorso/"+a.props.corso).then((function(e){var t=e.data;a.setState({materie:t})}))},a.changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeEmail=function(e){var t=e.target.value.trim();a.setState({email:t})},a.changeCognome=function(e){var t=e.target.value;a.setState({cognome:t})},a.changeCF=function(e){var t=e.target.value.trim();a.setState({CF:t})},a.aggiungiDocente=function(){var e=a.state,t=e.nome,n=e.cognome,r=e.CF,c=e.email,o=e.corsiSel,i=e.materieSel;if(""!==t.trim()&&""!==n.trim()&&""!==r&&""!==c)if(16===r.length)if(i.length)if(o.length){var l=(new T).encode(r);g.a.post(b.j+"/api/docenti",{nome:t.trim(),cognome:n.trim(),cf:r,password:l,email:c,tenere:o.map((function(e){return{idCorso:e,idDocente:0}})),insegnare:i.map((function(e){return{idMateria:e,idDocente:0}}))}).then((function(e){L.a.success("Docente creato con successo!"),Fe.push(b.b+"/docenti")}))}else j.a.error({title:"Errore!",content:"Scegliere almeno un corso."});else j.a.error({title:"Errore!",content:"Scegliere almeno una materia."});else j.a.error({title:"Errore!",content:"Codice Fiscale non valido."});else j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.switchMateria=function(e){var t=a.state.materieSel.find((function(t){return t===e}))?a.state.materieSel.filter((function(t){return t!==e})):a.state.materieSel.concat(e);a.setState({materieSel:t})},a.switchCorso=function(e){var t=a.state.corsiSel.find((function(t){return t===e}))?a.state.corsiSel.filter((function(t){return t!==e})):a.state.corsiSel.concat(e);a.setState({corsiSel:t})},a.state={nome:"",cognome:"",CF:"",email:"",corsi:null,materie:null,corsiSel:[],materieSel:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nome,n=t.cognome,c=t.CF,o=t.email,i=t.materie,l=t.materieSel,s=t.corsi,m=t.corsiSel;if(!i||!s){var u=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:u}))}return i.length?r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Aggiungi un nuovo docente"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:a,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Cognome"),r.a.createElement("input",{name:"surname",type:"text",className:"form-control",value:n,onChange:this.changeCognome}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"E-mail"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",value:o,onChange:this.changeEmail})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Codice Fiscale"),r.a.createElement("input",{name:"cf",type:"text",className:"form-control",maxLength:16,value:c,onChange:this.changeCF}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Materie insegnate dal docente"),r.a.createElement("div",{className:"multiselect form-control p-0"},i.map((function(t){var a=!!l.find((function(e){return e===t.idMateria})),n=a?"checked":"";return r.a.createElement("label",{className:"option "+n},r.a.createElement(R.a,{className:"mr-2",onChange:function(){return e.switchMateria(t.idMateria)},checked:a})," ",t.nome)})))),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Corsi del docente"),r.a.createElement("div",{className:"multiselect form-control p-0"},s.map((function(t){var a=!!m.find((function(e){return e===t.idCorso})),n=a?"checked":"";return r.a.createElement("label",{className:"option "+n},r.a.createElement(R.a,{className:"mr-2",onChange:function(){return e.switchCorso(t.idCorso)},checked:a})," ",t.nome)}))))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.aggiungiDocente},"Aggiungi docente"))):r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},"\xc8 necessario creare almeno una materia per poter inserire un nuovo docente.")}}]),t}(r.a.PureComponent),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props,t=e.corso,n=e.idDocente;g.a.get(b.j+"/api/lezioni/getlezionidocente/"+n+"/"+t).then((function(e){var t=e.data;a.setState({presenze:t})}))},a.changeEntrata=function(e,t){var n=e.target.value.trim(),r=a.state.editingList.map((function(e){return e.idPresenza===t&&(e.ingresso=n),e}));a.setState({editingList:r})},a.changeUscita=function(e,t){var n=e.target.value.trim(),r=a.state.editingList.map((function(e){return e.idPresenza===t&&(e.uscita=n),e}));a.setState({editingList:r})},a.startTimeEdit=function(e){a.setState({editingList:a.state.editingList.concat(e)})},a.animateTds=function(e,t){e.classList.add("edited"),t.classList.add("edited"),setTimeout((function(){e.classList.remove("edited"),t.classList.remove("edited")}),1e3)},a.confirmEdit=function(e,t,n){var r=a.state,c=r.editingList,o=r.presenze,i=c.find((function(t){return t.idPresenza===e}));Object(b.m)(i.ingresso)&&Object(b.m)(i.uscita)?g.a.put(b.j+"/api/presenzedocente/"+e,{idPresenza:e,ingresso:i.ingresso,uscita:i.uscita,idDocente:i.idDocente,idLezione:i.idLezione}).then((function(r){var l=r.data;if("success"===l){var s=o.map((function(t){return t.idPresenza===e?i:t}));a.setState({presenze:s,editingList:c.filter((function(e){return e.idPresenza!==i.idPresenza}))}),a.animateTds(t,n)}else j.a.error({title:"Errore!",content:l})})):j.a.error({title:"Errore!",content:"Orari non validi! (ore:minuti:secondi)",maskClosable:!0})},a.getCategorie=function(){var e=a.state.presenze,t=[];return e.forEach((function(e){-1===t.indexOf(e.lezione)&&t.push(e.lezione)})),t},a.changeFilter=function(e){a.setState({filter:""===e?null:e})},a.state={presenze:null,editingList:[],filter:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.presenze,n=t.editingList,c=t.filter,o=this.props.canEdit,i=_.a.Option;if(!a){var l=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",null,r.a.createElement(N.a,{indicator:l,className:"mt-3"}))}var s=c?a.filter((function(e){return e.lezione.toLowerCase()===c.toLowerCase()})):a;return r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",{className:"d-inline-block"},"Lezioni tenute dal docente"),r.a.createElement("div",{className:"float-right"},r.a.createElement("label",{className:"d-inline-block text-secondary mr-2"},"Filtra per materia: "),r.a.createElement(_.a,{defaultValue:"",style:{width:150},onChange:this.changeFilter,showSearch:!0},r.a.createElement(i,{value:""},"Nessuna"),this.getCategorie().map((function(e){return r.a.createElement(i,{value:e},e)})))),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"thead-light"},r.a.createElement("th",null,"Giorno"),r.a.createElement("th",null,"Entrata"),r.a.createElement("th",null,"Uscita"),r.a.createElement("th",null,"Lezione"),o&&r.a.createElement("th",null,"Azioni")),s.map((function(t){var a,c,i=n.find((function(e){return e.idPresenza===t.idPresenza}));return r.a.createElement("tr",null,r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},Object(b.d)(t.data)),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate",ref:function(e){return a=e}},i?r.a.createElement("input",{type:"text",className:"form-control edit-time",value:i.ingresso,onChange:function(a){return e.changeEntrata(a,t.idPresenza)}}):r.a.createElement("span",null,t.ingresso)),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate",ref:function(e){return c=e}},i?r.a.createElement("input",{type:"text",className:"form-control edit-time",value:i.uscita,onChange:function(a){return e.changeUscita(a,t.idPresenza)}}):r.a.createElement("span",null,t.uscita)),r.a.createElement(y.a,{title:t.lezione},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.lezione)),o&&r.a.createElement("td",null,i?r.a.createElement(y.a,{title:"Conferma modifiche"},r.a.createElement("button",{type:"button",className:"btn btn-success circle-btn",onClick:function(){return e.confirmEdit(t.idPresenza,a,c)}},r.a.createElement("i",{className:"fa fa-check"}))):r.a.createElement(y.a,{title:"Modifica orari"},r.a.createElement("button",{type:"button",className:"btn btn-orange circle-btn",onClick:function(){return e.startTimeEdit(t)}},r.a.createElement("i",{className:"fa fa-user-edit"})))))})))))}}]),t}(r.a.PureComponent),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Number(a.props.match.params.id);isNaN(e)&&Fe.push(b.b),g.a.get(b.j+"/api/docenti/getdocentibyid/"+e).then((function(e){a.setState({docente:e.data})}))},a.toggleModal=function(){a.setState({modal:!a.state.modal})},a.downloadQR=function(){var e=a.state.docente,t=document.getElementById("qr-code-image").toDataURL("image/png").replace("image/png","image/octet-stream"),n=document.createElement("a");n.href=t,n.download="qrcode".concat(e.nome).concat(e.cognome,".png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},a.getQRCode=function(){var e=a.state.docente;return(new T).encode(e.cf)},a.isInCorso=function(e){return-1!==e.corsi.indexOf(a.props.corso)},a.state={docente:null,modal:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.docente,a=e.modal;if(!t){var n=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:n}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"col-12 col-md-6 pl-md-0 mb-2 mb-md-0"},r.a.createElement("div",{className:"p-3 bg-white border"},t.ritirato&&r.a.createElement("span",{className:"border-text"},"Ritirato"),r.a.createElement("h4",{className:"text-uppercase mb-2 text-truncate"},t.nome," ",t.cognome),r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"E-mail"),": ",t.email),r.a.createElement(G.a,{onClick:this.toggleModal,className:"float-right",type:"link"},"Mostra codice QR"),r.a.createElement("div",{className:"clearfix"}))),r.a.createElement("div",{className:"col-12 col-md-3 pr-md-0"},r.a.createElement("div",{className:"p-3 bg-white border rounded text-center",style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"}},r.a.createElement(J.a,{title:"Ore svolte",value:t.monteOre})))),r.a.createElement(re,{idDocente:t.idDocente,canEdit:this.isInCorso(t),corso:this.props.corso}),r.a.createElement(j.a,{visible:a,maskClosable:!0,centered:!0,title:r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-qrcode fa-fw fa-lg text-primary mr-2"}),"Codice QR del docente"),onCancel:this.toggleModal,width:350,onOk:this.downloadQR,footer:[r.a.createElement(G.a,{type:"primary",onClick:this.downloadQR},r.a.createElement("i",{className:"far fa-arrow-to-bottom mr-2"})," Salva codice"),r.a.createElement(G.a,{type:"default",onClick:this.toggleModal},"Chiudi")]},r.a.createElement("div",{className:"text-center"},r.a.createElement("p",null,"Salva il codice sottostante e condividilo con ",r.a.createElement("strong",null,t.nome," ",t.cognome,".")),r.a.createElement("div",{className:"my-2"},r.a.createElement(Z.a,{id:"qr-code-image",value:this.getQRCode(),size:200})))))}}]),t}(r.a.PureComponent),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Number(a.props.match.params.id);isNaN(e)&&Fe.push(b.b),g.a.get(b.j+"/api/docenti/getdocentibyid/"+e).then((function(e){var t=e.data;a.setState({docente:t,nome:t.nome,cognome:t.cognome,CF:t.cf,email:t.email,materieSel:t.materie&&t.materie.length?t.materie:[],corsiSel:t.corsi&&t.corsi.length?t.corsi:[]})})),g.a.get(b.j+"/api/materie/getmateriebycorso/"+a.props.corso).then((function(e){var t=e.data;a.setState({materie:t})})),g.a.get(b.j+"/api/corsi").then((function(e){var t=e.data;a.setState({corsi:t})}))},a.changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeEmail=function(e){var t=e.target.value.trim();a.setState({email:t})},a.changeCognome=function(e){var t=e.target.value;a.setState({cognome:t})},a.changeCF=function(e){var t=e.target.value.trim();a.setState({CF:t})},a.modificaDocente=function(){var e=a.state,t=e.docente,n=e.nome,r=e.cognome,c=e.CF,o=e.email,i=e.corsiSel,l=e.materieSel;""!==n.trim()&&""!==r.trim()&&""!==c&&""!==o?l.length?i.length?16===c.length?g.a.put(b.j+"/api/docenti/"+a.props.match.params.id,{idDocente:parseInt(a.props.match.params.id),nome:n.trim(),cognome:r.trim(),email:o,cf:c,tenere:i.map((function(e){return{idCorso:e,idDocente:t.idDocente}})),insegnare:l.map((function(e){return{idMateria:e,idDocente:t.idDocente}})),ritirato:t.ritirato}).then((function(e){L.a.success("Docente modificato con successo!"),Fe.push(b.b+"/docenti")})):j.a.error({title:"Errore!",content:"Codice Fiscale non valido."}):j.a.error({title:"Errore!",content:"Scegliere almeno un corso."}):j.a.error({title:"Errore!",content:"Scegliere almeno una materia."}):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.switchMateria=function(e){var t=a.state.materieSel.find((function(t){return t===e}))?a.state.materieSel.filter((function(t){return t!==e})):a.state.materieSel.concat(e);a.setState({materieSel:t})},a.switchCorso=function(e){var t=a.state.corsiSel.find((function(t){return t===e}))?a.state.corsiSel.filter((function(t){return t!==e})):a.state.corsiSel.concat(e);a.setState({corsiSel:t})},a.state={docente:null,nome:"",cognome:"",CF:"",email:"",materie:[],materieSel:[],corsi:[],corsiSel:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nome,n=t.cognome,c=t.CF,o=t.docente,i=t.email,l=t.materie,s=t.materieSel,m=t.corsi,u=t.corsiSel;if(!o||!l.length||!m.length){var d=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:d}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Modifica di un docente"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:a,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Cognome"),r.a.createElement("input",{name:"surname",type:"text",className:"form-control",value:n,onChange:this.changeCognome}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"E-mail"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",value:i,onChange:this.changeEmail})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Codice Fiscale"),r.a.createElement("input",{name:"cf",type:"text",className:"form-control",maxLength:16,value:c,onChange:this.changeCF}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Materie insegnate dal docente"),r.a.createElement("div",{className:"multiselect form-control p-0"},l.map((function(t){var a=!!s.find((function(e){return e===t.idMateria})),n=a?"checked":"";return r.a.createElement("label",{className:"option "+n},r.a.createElement(R.a,{className:"mr-2",onChange:function(){return e.switchMateria(t.idMateria)},checked:a})," ",t.nome)})))),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Corsi del docente"),r.a.createElement("div",{className:"multiselect form-control p-0"},m.map((function(t){var a=!!u.find((function(e){return e===t.idCorso})),n=a?"checked":"";return r.a.createElement("label",{className:"option "+n},r.a.createElement(R.a,{className:"mr-2",onChange:function(){return e.switchCorso(t.idCorso)},checked:a})," ",t.nome)}))))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.modificaDocente},"Modifica docente")))}}]),t}(r.a.PureComponent),ie=a(19),le=a.n(ie),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Number(a.props.match.params.id);isNaN(e)&&Fe.push(b.b),g.a.get(b.j+"/api/studenti/getstudentibyid/"+e).then((function(e){var t=e.data;a.setState({studente:t,nome:t.nome,cognome:t.cognome,CF:t.cf,dataNascita:Object(b.d)(t.dataNascita),email:t.email})}))},a.changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeEmail=function(e){var t=e.target.value.trim();a.setState({email:t})},a.changeCognome=function(e){var t=e.target.value;a.setState({cognome:t})},a.changeData=function(e){a.setState({dataNascita:e})},a.changeCF=function(e){var t=e.target.value.trim();a.setState({CF:t})},a.modificaStudente=function(){var e=a.state,t=e.nome,n=e.cognome,r=e.dataNascita,c=e.CF,o=e.email,i=e.studente;""!==t.trim()&&""!==n.trim()&&""!==r&&""!==c&&""!==o?16===c.length?g.a.put(b.j+"/api/studenti/"+i.idStudente,{idStudente:i.idStudente,nome:t.trim(),cognome:n.trim(),email:o,cf:c,idCorso:a.props.corso,annoFrequentazione:i.annoFrequentazione,dataNascita:Object(b.e)(r,!0),ritirato:i.ritirato}).then((function(e){L.a.success("Studente modificato con successo!"),Fe.push(b.b+"/studenti")})):j.a.error({title:"Errore!",content:"Codice Fiscale non valido."}):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.state={studente:null,nome:"",cognome:"",dataNascita:"",CF:"",email:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nome,n=t.cognome,c=t.dataNascita,o=t.CF,i=t.studente,l=t.email;if(!i){var s=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:s}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Modifica di uno studente"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:a,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Cognome"),r.a.createElement("input",{name:"surname",type:"text",className:"form-control",value:n,onChange:this.changeCognome}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Data di nascita"),r.a.createElement(q.a,{locale:U.a,className:"w-100 select-date",onChange:function(t,a){return e.changeData(a)},format:"DD-MM-YYYY",defaultValue:le()(c,"DD-MM-YYYY")})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"E-mail"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",value:l,onChange:this.changeEmail})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Codice Fiscale"),r.a.createElement("input",{name:"cf",type:"text",className:"form-control",maxLength:16,value:o,onChange:this.changeCF}))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.modificaStudente},"Modifica studente")))}}]),t}(r.a.PureComponent),me=a(228),ue=a.n(me),de=[{label:"Nome",field:"nome"},{label:"Cognome",field:"cognome"},{label:"Codice Fiscale",field:"cf"},{label:"Data di nascita",field:"dataNascita"},{label:"E-mail",field:"email"}],fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){Object(b.i)()},a.splitCSV=function(e){return e.match(/(["'])(?:(?=(\\?))\2.)*?\1/g).map((function(e){return e.replace(/["]/g,"")}))},a.renderOptions=function(){var e=a.state.fileContent.split("\n");return a.splitCSV(e[0]).map((function(e,t){return""===e?null:r.a.createElement("option",{value:t},e)}))},a.changeVarPos=function(e,t){var n=e.target.value,r=a.state.fields;r[t]=n,a.setState({fields:r})},a.readFile=function(e){var t=new FileReader;return t.onload=function(e){a.setState({fileContent:String(e.target.result).trim()}),j.a.info({width:500,centered:!0,title:"Selezionare i campi da abbinare",icon:r.a.createElement(v.a,{type:"api",style:{color:"var(--success)"}}),maskClosable:!0,content:r.a.createElement("div",{style:{marginLeft:-38}},r.a.createElement("div",{className:"row mt-3 px-0"},r.a.createElement("div",{className:"col-4"},r.a.createElement("label",{className:"mt-2"},"Classe: ")),r.a.createElement("div",{className:"col"},r.a.createElement("select",{className:"custom-select pointer",style:{height:35},onChange:function(e){return a.changeVarPos(e,"annoFrequentazione")}},r.a.createElement("option",{value:"1"},"Primo anno"),r.a.createElement("option",{value:"2"},"Secondo anno")))),de.map((function(e){return r.a.createElement("div",{className:"row mt-3 px-0"},r.a.createElement("div",{className:"col-4"},r.a.createElement("label",{className:"mt-2"},e.label,": ")),r.a.createElement("div",{className:"col"},r.a.createElement("select",{className:"custom-select pointer",style:{height:35},onChange:function(t){return a.changeVarPos(t,e.field)}},a.renderOptions())))}))),onOk:a.showImportPreview,okText:"Prosegui"})},t.readAsText(e,"ISO-8859-1"),!1},a.showImportPreview=function(){var e=a.state,t=e.fileContent,n=e.fields,r=t.split("\n"),c=[],o=document.getElementById("popup");r.forEach((function(e){var t=a.splitCSV(e),r={idCorso:a.props.corso,nome:Object(b.c)(t[n.nome]),cognome:Object(b.c)(t[n.cognome]),annoFrequentazione:parseInt(n.annoFrequentazione),cf:t[n.cf],dataNascita:Object(b.e)(t[n.dataNascita],!0),email:t[n.email],password:t[n.cf]};c.push(r)})),a.setState({addList:c}),o.classList.add("show")},a.hidePopup=function(){var e=document.getElementById("popup");a.setState({addList:[],fields:{nome:0,cognome:0,cf:0,dataNascita:0,email:0,annoFrequentazione:0}}),e.classList.remove("show")},a.confirmImport=function(){g.a.post(b.j+"/api/studenti",a.state.addList).then((function(e){L.a.success("Importazione eseguita con successo!"),Fe.push(b.b+"/studenti")}))},a.state={addList:[],fileContent:"",fields:{nome:0,cognome:0,cf:0,dataNascita:0,email:0,annoFrequentazione:1}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.addList;return r.a.createElement("div",{className:"col p-5 right-block",id:"mainBlock",style:{flexDirection:"column"}},r.a.createElement("h3",{className:"text-center w-100"},"Importa studenti da CSV"),r.a.createElement("label",null,"Prima di proseguire, esportare il CSV da ",r.a.createElement("strong",null,"Sifer"),"."),r.a.createElement("div",{className:"uploader mt-2 w-100"},r.a.createElement(ue.a,{accept:".csv",beforeUpload:function(t){return e.readFile(t)}},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement("i",{className:"fa fa-file-csv fa-5x"})),r.a.createElement("p",{className:"ant-upload-text"},"Clicca o trascina un file su quest'aerea"),r.a.createElement("p",{className:"ant-upload-hint"},"Assicurati che il file abbia l'estensione ",r.a.createElement("strong",null,".csv"),"."))),r.a.createElement("div",{id:"popup",className:"preview px-0"},r.a.createElement("div",{className:"w-100 h-100 inner overflow-auto px-5 py-4"},r.a.createElement("h3",{className:"mb-3 text-center"},"Anteprima dati da importare"),t.length&&r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Cognome"),r.a.createElement("th",null,"Anno"),r.a.createElement("th",null,"Codice Fiscale"),r.a.createElement("th",null,"Data di Nascita"),r.a.createElement("th",{style:{width:"25%"}},"E-mail")),t.map((function(e){return r.a.createElement("tr",null,r.a.createElement(y.a,{title:e.nome},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.nome)),r.a.createElement(y.a,{title:e.cognome},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.cognome)),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.annoFrequentazione),r.a.createElement(y.a,{title:e.cf},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.cf)),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},Object(b.d)(e.dataNascita)),r.a.createElement(y.a,{title:e.email},r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.email)))}))))),r.a.createElement("div",{className:"bottom-side p-3 text-right"},r.a.createElement("button",{className:"btn btn-danger mr-2",onClick:this.hidePopup},"Annulla"),r.a.createElement("button",{className:"btn btn-success",onClick:this.confirmImport},"Conferma importazione"))))}}]),t}(r.a.PureComponent),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/materie/getmateriebycorso/"+a.props.corso).then((function(e){a.setState({materie:e.data})}))},a.showHideModal=function(){a.setState({showModal:!a.state.showModal,nomeMateria:"",descMateria:""})},a.hideEditModal=function(){a.setState({showEditModal:!1,nomeEdit:"",materiaEdit:null})},a.showEditModal=function(e){a.setState({showEditModal:!0,nomeEdit:e.nome,descEdit:e.descrizione,materiaEdit:e})},a.aggiungiMateria=function(){var e=a.state,t=e.nomeMateria,n=e.descMateria;""!==t.trim()&&""!==n.trim()?(a.setState({materie:null,showModal:!1}),g.a.post(b.j+"/api/materie/"+a.props.corso,{nome:t.trim(),descrizione:n.trim()}).then((function(e){var t=e.data;a.setState({materie:t}),L.a.success("Materia aggiunta con successo!")}))):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.modificaMateria=function(){var e=a.state,t=e.nomeEdit,n=e.materiaEdit,r=e.descEdit;""!==t&&""!==r?(a.setState({materie:null,showEditModal:!1}),g.a.put(b.j+"/api/materie/"+n.idMateria,{idMateria:n.idMateria,nome:t.trim(),descrizione:r.trim()}).then((function(e){var t=e.data;a.setState({materie:t,materiaEdit:null,nomeEdit:"",descEdit:""}),L.a.success("Materia modificata con successo!")}))):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.changeNome=function(e){var t=e.target.value;a.setState({nomeMateria:t})},a.changeNomeEdit=function(e){var t=e.target.value;a.setState({nomeEdit:t})},a.changeDesc=function(e){var t=e.target.value;a.setState({descMateria:t})},a.changeDescEdit=function(e){var t=e.target.value;a.setState({descEdit:t})},a.state={materie:null,showModal:!1,nomeMateria:"",descMateria:"",showEditModal:!1,materiaEdit:null,nomeEdit:"",descEdit:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.materie,n=t.nomeMateria,c=t.showModal,o=t.showEditModal,i=t.materiaEdit,l=t.nomeEdit,s=t.descMateria,m=t.descEdit;if(!a){var u=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:u}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-3 text-center"},"Lista delle materie"),r.a.createElement("button",{className:"btn btn-success float-right mb-3",type:"button",onClick:this.showHideModal},r.a.createElement("i",{className:"fal fa-plus"})," Aggiungi materia"),r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Descrizione"),r.a.createElement("th",{style:{width:"10%"}},"Azioni")),a.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.nome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},t.descrizione),r.a.createElement("td",null,r.a.createElement(y.a,{title:"Modifica"},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white circle-btn",onClick:function(){return e.showEditModal(t)}},r.a.createElement("i",{className:"fa fa-pen"})))))})))),r.a.createElement(j.a,{title:"Aggiungi una materia",visible:c,footer:[r.a.createElement(G.a,{type:"primary",onClick:this.aggiungiMateria},"Aggiungi"),r.a.createElement(G.a,{type:"default",onClick:this.showHideModal},"Annulla")],onCancel:this.showHideModal},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Nome della materia"),r.a.createElement("input",{type:"text",value:n,onChange:this.changeNome,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Descrizione della materia"),r.a.createElement("input",{type:"text",value:s,onChange:this.changeDesc,className:"form-control"})))),i&&r.a.createElement(j.a,{title:"Modifica di una materia",visible:o,footer:[r.a.createElement(G.a,{type:"primary",onClick:this.modificaMateria},"Modifica"),r.a.createElement(G.a,{type:"default",onClick:this.hideEditModal},"Annulla")],onCancel:this.hideEditModal},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Nome della materia"),r.a.createElement("input",{type:"text",value:l,onChange:this.changeNomeEdit,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Descrizione della materia"),r.a.createElement("input",{type:"text",value:m,onChange:this.changeDescEdit,className:"form-control"})))))}}]),t}(r.a.PureComponent),Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).scaleImage=function(){a.props.scalable&&a.setState({scaled:!a.state.scaled})},a.state={scaled:!1,coords:[0,0]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.width,n=e.height,c=e.scalable,o=e.style,i=this.state.scaled,l=c?"scalable ":"",s=i?"scaled":"",m=c?"Cliccare per "+(i?"rimpicciolire":"ingrandire"):null;return r.a.createElement(y.a,{title:m},r.a.createElement("img",{alt:"scale",style:o,className:"imagescale "+l+s,src:t,width:a,height:n,onClick:this.scaleImage}))}}]),t}(r.a.PureComponent),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props,t=e.corso,n=e.anno;g.a.get(b.j+"/api/calendari/"+t+"/"+n).then((function(e){var t=e.data;a.setState({calendarId:t.idGoogleCalendar,calendar:t})}))},a.changeID=function(e){var t=e.target.value;a.setState({calendarId:t})},a.saveConfig=function(){var e=a.props,t=e.corso,n=e.anno,r=a.state,c=r.calendarId,o=r.calendar;""!==c?g.a.post(b.j+"/api/calendari",{IdCalendario:o?o.idCalendario:"0",IdCorso:t,Anno:n,IdGoogleCalendar:c}).then((function(e){L.a.success("Configurazione calendario salvata!")})):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.state={calendarId:null,calendar:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.calendarId;if(null===e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"text-center"},r.a.createElement(N.a,{indicator:t}))}return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"ID Calendario"),r.a.createElement("input",{name:"calendarID",type:"text",className:"form-control",value:e,onChange:this.changeID}))),r.a.createElement("button",{type:"button",className:"btn btn-success float-right mr-1 mb-1",onClick:this.saveConfig},"Salva configurazione"))}}]),t}(r.a.PureComponent),he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).showHelp=function(){j.a.info({width:700,style:{top:24},centered:!1,maskClosable:!0,icon:r.a.createElement(v.a,{type:"question-circle",style:{marginTop:6,fontSize:28,color:"orange"}}),okText:"Ho capito",content:r.a.createElement("div",{className:"text-justify"},r.a.createElement("strong",null,"Dove mi trovo?"),r.a.createElement("p",null,"In questa pagina potrai configurare il calendario dal quale verranno caricate le lezioni del corso."),r.a.createElement("strong",null,"Come si configura il calendario?"),r.a.createElement("p",null,"Per configurare il calendario avrai bisogno di un codice univoco, che ti permetter\xe0 di collegare il calendario al sito."),r.a.createElement("strong",null,"ID del calendario"),r.a.createElement("p",null,"Per trovare l'ID (identificativo) del calendario, baster\xe0 effettuare l'accesso su ",r.a.createElement("a",{href:"https://calendar.google.com/",target:"_blank",rel:"noopener noreferrer"},"Google Calendar ",r.a.createElement("i",{className:"far fa-external-link"}))," con un account che abbia integrato il calendario del corso. Bisogner\xe0 poi premere sul simbolo ",r.a.createElement("i",{className:"far fa-cog"})," in alto a destra e successivamente su ",r.a.createElement("strong",null,"Impostazioni")," nel menu che comparir\xe0. Scorrere quindi la lista a sinistra della pagina, e cliccare sul calendario che si desidera integrare. Recarsi sotto la voce ",r.a.createElement("strong",null,"Integra calendario")," e copiare (subito in basso) il codice identificativo del calendario (",r.a.createElement("strong",null,"ID calendario"),"), per poi incollarlo in questa pagina di configurazione."),r.a.createElement("p",null,r.a.createElement("u",null,"Assicurati che il calndario sia ",r.a.createElement("strong",null,"pubblico"),", altrimenti non sar\xe0 possibile visualizzarlo.")),r.a.createElement("strong",{className:"d-block mb-2"},"Galleria immagini"),r.a.createElement(Ee,{src:"https://i.imgur.com/e3H0hXX.png",height:100,scalable:!0}))}),setTimeout((function(){return document.getElementsByClassName("ant-modal-wrap")[0].scrollTo(0,0)}),100)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=W.a.TabPane;return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Configurazione calendario",r.a.createElement(y.a,{title:"Informazioni"},r.a.createElement("button",{type:"button",className:"btn btn-info circle-btn float-right",onClick:this.showHelp},r.a.createElement("i",{className:"fa fa-question"}))),r.a.createElement("div",{className:"clearfix"})),r.a.createElement(W.a,null,r.a.createElement(e,{tab:"Primo anno",key:"1"},r.a.createElement(ge,{anno:1,corso:this.props.corso})),r.a.createElement(e,{tab:"Secondo anno",key:"2"},r.a.createElement(ge,{anno:2,corso:this.props.corso}))))}}]),t}(r.a.PureComponent),be=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"mainBlock",className:"col"},r.a.createElement("div",{className:"text-center text-grey w-100"},r.a.createElement("i",{className:"fal fa-exclamation-triangle mb-2",style:{fontSize:150}}),r.a.createElement("h1",{className:"mb-2 text-grey font-weight-normal"},"Errore 404"),r.a.createElement("p",{style:{fontSize:20}},"La pagina che stati cercando non esiste."),r.a.createElement("button",{onClick:function(){return Fe.push(e.props.goTo)},type:"button",className:"btn btn-blue btn-lg text-uppercase"},r.a.createElement("i",{className:"fa fa-shield-check fa-lg fa-fw mr-2"}),"Torna al sicuro")))}}]),t}(r.a.PureComponent),ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).requestCodeChange=function(e){var t=a.props.idCoordinatore;H(b.j+"/api/corsi/generacodiceanno","post",{idCoordinatore:t,anno:e},(function(e){var t=e.data;j.a.info({title:"Codice generato",content:r.a.createElement("span",null,"Il nuovo codice \xe8: ",r.a.createElement("strong",null,t))})}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-4 text-center"},"Gestione firma da casa"),r.a.createElement("div",{className:"py-4 px-3 text-justify border rounded shadow-sm mb-4"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"col-1 text-left"},r.a.createElement("i",{className:"fal fa-question-circle fa-3x text-warning"})),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Nel caso in cui ce ne fosse bisogno, \xe8 possibile dare agli studenti la possibilit\xe0 di firmare le loro presenze da casa."),r.a.createElement("p",null,"Tramite ",r.a.createElement("a",{href:b.j+"/#/firmacasa",target:"_blank",rel:"noopener noreferrer"},"questo url")," (da condividere con gli studenti) \xe8 possibile eseguire tale operazione, ma per farlo \xe8 necessario generare, tramite la pagina corrente, un codice univoco che permetta l'accesso alla schermata. Baster\xe0 quindi digitarlo nell'apposito campo di testo e si acceder\xe0 alla lista degli studenti presenti nella classe."),r.a.createElement("p",null,"Lo studente sar\xe0 poi libero di scegliere il proprio nome nella lista e confermare l'operazione."),r.a.createElement("p",{className:"mb-0"},"Il codice sar\xe0 differente in base all'anno di appartenenza.")))),r.a.createElement("strong",{className:"mr-2"},"Genera codice:"),r.a.createElement("button",{className:"btn btn-blue mr-2",onClick:function(){return e.requestCodeChange(1)}},"Primo anno"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.requestCodeChange(2)}},"Secondo anno"))}}]),t}(r.a.PureComponent),Ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentWillUnmount=function(){sessionStorage.removeItem("adminSession")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=sessionStorage.getItem("adminSession");if(!e)return r.a.createElement(A,null);var t=JSON.parse(e);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(f.b,{history:Fe},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 bg-blue p-0 menu"},r.a.createElement(I,{idCorso:t.idCorso}),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.b+"/studenti")},to:b.b+"/studenti"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-users-class fa-fw mr-1"})," Studenti")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.b+"/docenti")},to:b.b+"/docenti"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-chalkboard-teacher fa-fw mr-1"})," Docenti")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.b+"/materie")},to:b.b+"/materie"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-list-alt fa-fw mr-1"})," Materie")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.b+"/config")},to:b.b+"/config"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-calendar-edit fa-fw mr-1"})," Configura calendario")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.b+"/codicefirma")},to:b.b+"/codicefirma"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-house-signal fa-fw mr-1"})," Firma da casa")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){sessionStorage.removeItem("adminSession"),Fe.push(b.b)},exact:!0,to:b.b+"/login"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-power-off fa-fw mr-1"})," Esci"))),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:b.b,render:function(){return Fe.push(b.b+"/studenti"),null}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/studenti",render:function(){return r.a.createElement(Y,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/studenti/new",render:function(){return r.a.createElement(Q,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/studenti/import",render:function(){return r.a.createElement(fe,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/studenti/:id",render:function(e){return r.a.createElement($,Object.assign({},e,{corso:t.idCorso}))}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/studenti/edit/:id",render:function(e){return r.a.createElement(se,Object.assign({},e,{corso:t.idCorso}))}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/docenti",render:function(){return r.a.createElement(ae,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/docenti/new",render:function(){return r.a.createElement(ne,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/docenti/:id",render:function(e){return r.a.createElement(ce,Object.assign({},e,{corso:t.idCorso}))}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/docenti/edit/:id",render:function(e){return r.a.createElement(oe,Object.assign({},e,{corso:t.idCorso}))}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/materie",render:function(){return r.a.createElement(pe,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/config",render:function(){return r.a.createElement(he,{corso:t.idCorso})}}),r.a.createElement(f.a,{exact:!0,path:b.b+"/codicefirma",render:function(){return r.a.createElement(ve,{idCoordinatore:t.idCoordinatore})}}),r.a.createElement(f.a,{render:function(){return r.a.createElement(be,{goTo:b.b})}})))))}}]),t}(r.a.Component),Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){setInterval((function(){a.setState({code:null}),a.reloadCode()}),2e4)},a.reloadCode=function(){g.a.get("http://mygraphic.altervista.org/reg/api?codice&studente="+a.props.studentId).then((function(e){a.setState({code:e.data})}))},a.state={code:null},a.reloadCode(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.code;if(!e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",null,r.a.createElement(N.a,{indicator:t}))}return r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",{className:"mb-4 font-weight-normal text-black underline"},"Scannerizza questo codice"),r.a.createElement(Z.a,{value:e,size:200}))}}]),t}(r.a.PureComponent),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){},a.state={calendar:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.calendar;if(!e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:t}))}return r.a.createElement("div",null,r.a.createElement("h5",{className:"text-center text-black w-100"},"Calendario del mese"),r.a.createElement(S.a,{plugins:[w.a,k.a],events:{googleCalendarId:e.idGoogleCalendar},googleCalendarApiKey:"AIzaSyCEEaAbHOYhofQs-iLdHd_J8-KyD_IlRbE",defaultView:"dayGridMonth",fixedWeekCount:!1,header:!1,firstDay:1,themeSystem:"bootstrap",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1},locale:"it",eventClick:function(e){e.jsEvent.preventDefault();var t=e.event;j.a.info({maskClosable:!0,centered:!0,icon:null,title:t.title,content:r.a.createElement("div",{className:"mt-3",style:{fontSize:20}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 pr-0"},r.a.createElement("span",{className:"label"},"Inizio")),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"desc"},Object(b.a)(t.start.getHours()),":",Object(b.a)(t.start.getMinutes())))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 pr-0"},r.a.createElement("span",{className:"label"},"Fine")),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"desc"},Object(b.a)(t.end.getHours()),":",Object(b.a)(t.end.getMinutes())))),t.extendedProps.location&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 pr-0"},r.a.createElement("span",{className:"label"},"Luogo")),r.a.createElement("div",{className:"col-9",style:{fontSize:15}},t.extendedProps.location)))})}}))}}]),t}(r.a.PureComponent),xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){localStorage.setItem("student",JSON.stringify({idStudente:1,idCorso:1,nome:"Leonardo",cognome:"Grandolfo",annoFrequentazione:1,cf:"GRNLRD99D17L219L",dataNascita:"17-04-1999",code:"CIAO-GGG"}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("student"),t=JSON.parse(e);return r.a.createElement("div",{className:"container-fluid px-0"},r.a.createElement(f.b,{history:Fe},r.a.createElement("div",{className:"main-screen overflow-auto",id:"mainBlock"},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/userprofile",render:function(){return Fe.push("/userprofile/qrcode"),null}}),r.a.createElement(f.a,{exact:!0,path:"/userprofile/qrcode",render:function(){return r.a.createElement(Ce,{studentId:t.idStudente})}}),r.a.createElement(f.a,{exact:!0,path:"/userprofile/calendar",render:function(){return r.a.createElement(ye,{student:t})}}))),r.a.createElement("div",{className:"bottom-menu"},r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/userprofile/presenze")},to:"/userprofile/presenze"},r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-exclamation-circle fa-fw fa-2x mb-2"}),"Presenze")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/userprofile/voti")},to:"/userprofile/voti"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-stars fa-fw fa-2x mb-2"}),"Voti")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/userprofile/qrcode")},to:"/userprofile/qrcode"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-qrcode fa-fw fa-2x mb-2"}),"Codice QR")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/userprofile/calendar")},to:"/userprofile/calendar"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-calendar fa-fw fa-2x mb-2"}),"Lezioni")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push("/userprofile/account")},to:"/userprofile/account"},r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-user fa-fw fa-2x mb-2"}),"Profilo")))))}}]),t}(r.a.Component),Se=(a(445),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/corsi").then((function(e){var t=e.data;a.setState({corsi:t})}))},a.state={corsi:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.corsi;if(!e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:t}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-3 text-center"},"Lista dei corsi"),r.a.createElement("button",{className:"btn btn-success float-right mb-3",type:"button",onClick:function(){return Fe.push(b.k+"/corsi/new")}},r.a.createElement("i",{className:"fal fa-plus"})," Aggiungi corso"),r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Descrizione"),r.a.createElement("th",null,"Luogo"),r.a.createElement("th",{style:{width:"10%"}},"Azioni")),e.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.nome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.descrizione),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.luogo),r.a.createElement("td",null,r.a.createElement(y.a,{title:"Modifica"},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white circle-btn",onClick:function(){return Fe.push(b.k+"/corsi/edit/"+e.idCorso)}},r.a.createElement("i",{className:"fa fa-pen"})))))})))))}}]),t}(r.a.PureComponent)),ke=a(456),we=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeDesc=function(e){var t=e.target.value;a.setState({descrizione:t})},a.changeLuogo=function(e){var t=e.target.value;a.setState({luogo:t})},a.aggiungiCorso=function(){var e=a.state,t=e.nome,n=e.descrizione,r=e.luogo,c=e.logo;""!==t.trim()&&""!==n.trim()&&""!==r.trim()?g.a.post(b.j+"/api/corsi",{nome:t.trim(),descrizione:n.trim(),luogo:r.trim(),logo:c?c.trim():""}).then((function(e){L.a.success("Corso creato con successo!"),Fe.push(b.k+"/corsi")})):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.convertImage=function(e){return Object(b.f)(e).then((function(e){a.setState({logo:String(e)})})),!1},a.state={nome:"",descrizione:"",luogo:"",logo:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nome,n=t.descrizione,c=t.luogo,o=t.logo,i=r.a.createElement("div",null,r.a.createElement(v.a,{type:"plus",style:{fontSize:30,marginBottom:5}}),r.a.createElement("div",{className:"ant-upload-text"},"Carica immagine"));return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Aggiungi un nuovo corso"),r.a.createElement("form",{className:"row"},r.a.createElement("div",{className:"form-group mr-3"},r.a.createElement("label",{className:"text-secondary d-block"},"Logo"),r.a.createElement(ke.a,{listType:"picture-card",showUploadList:!1,beforeUpload:function(t){return e.convertImage(t)},className:"logo-upload",accept:"image/*"},o?r.a.createElement("img",{src:o,alt:"logo",style:{width:"100%"}}):i)),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"nomecorso",type:"text",className:"form-control",value:a,onChange:this.changeNome})),r.a.createElement("div",{className:"col pr-0"},r.a.createElement("label",{className:"text-secondary"},"Luogo"),r.a.createElement("input",{name:"luogo",type:"text",className:"form-control",value:c,onChange:this.changeLuogo}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col pr-0"},r.a.createElement("label",{className:"text-secondary"},"Breve descrizione"),r.a.createElement("textarea",{name:"description",className:"form-control",rows:2,onChange:this.changeDesc},n)))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.aggiungiCorso},"Aggiungi corso")))}}]),t}(r.a.PureComponent),je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.changeInputName=function(e){var t=e.target.value;a.setState({adminName:t})},a.changeInputPassword=function(e){var t=e.target.value;a.setState({adminPsw:t})},a.tryLogin=function(e){e.preventDefault();var t=a.state,n=t.adminName,r=t.adminPsw,c=(new T).encode(r);g.a.post(b.j+"/api/amministratori/loginamministratori",{username:n.trim(),password:c}).then((function(e){var t=e.data;!function(e){try{return"nome"in e&&"cognome"in e}catch(t){return!1}}(t)?j.a.error({title:"Errore!",content:"Username o Password errati!",centered:!0,maskClosable:!0}):(sessionStorage.setItem("superSession",JSON.stringify(t)),Fe.push(b.k),L.a.success("Login effettuato con successo!"))}))},a.state={adminName:"",adminPsw:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.adminName,a=e.adminPsw;return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("form",{className:"w-100 bg-white p-3 rounded shadow",onSubmit:this.tryLogin},r.a.createElement("h3",{className:"d-inline-block"},"Accesso amministratori"),r.a.createElement("img",{src:b.g,height:"40",className:"float-right logo",alt:"logo"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Utente di accesso"),r.a.createElement("input",{name:"username",type:"text",className:"form-control",value:t,onChange:this.changeInputName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Password di accesso"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",value:a,onChange:this.changeInputPassword})),r.a.createElement("input",{type:"submit",value:"Accedi",className:"btn btn-lg btn-success w-100 text-uppercase"})))}}]),t}(r.a.PureComponent),Oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Number(a.props.match.params.id);isNaN(e)&&Fe.push(b.k),g.a.get(b.j+"/api/corsi/"+e).then((function(e){var t=e.data;a.setState({corso:t,nome:t.nome,descrizione:t.descrizione,luogo:t.luogo,logo:t.logo})}))},a.changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeDesc=function(e){var t=e.target.value;a.setState({descrizione:t})},a.changeLuogo=function(e){var t=e.target.value;a.setState({luogo:t})},a.modificaCorso=function(){var e=a.state,t=e.nome,n=e.descrizione,r=e.luogo,c=e.corso,o=e.logo;""!==t.trim()&&""!==n.trim()&&""!==r.trim()?g.a.put(b.j+"/api/corsi/"+c.idCorso,{idCorso:c.idCorso,nome:t.trim(),descrizione:n.trim(),luogo:r.trim(),logo:o?o.trim():""}).then((function(e){L.a.success("Corso modificato con successo!"),Fe.push(b.k+"/corsi")})):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.convertImage=function(e){return Object(b.f)(e).then((function(e){a.setState({logo:String(e)})})),!1},a.state={corso:null,nome:"",descrizione:"",luogo:"",logo:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nome,n=t.descrizione,c=t.luogo,o=t.corso,i=t.logo,l=r.a.createElement("div",null,r.a.createElement(v.a,{type:"plus",style:{fontSize:30,marginBottom:5}}),r.a.createElement("div",{className:"ant-upload-text"},"Carica immagine"));if(!o){var s=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:s}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Modifica di un corso"),r.a.createElement("form",{className:"row"},r.a.createElement("div",{className:"form-group mr-3"},r.a.createElement("label",{className:"text-secondary d-block"},"Logo"),r.a.createElement(ke.a,{listType:"picture-card",showUploadList:!1,beforeUpload:function(t){return e.convertImage(t)},className:"logo-upload",accept:"image/*"},i?r.a.createElement("img",{src:i,alt:"logo",style:{width:"100%"}}):l)),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"nomecorso",type:"text",className:"form-control",value:a,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Luogo"),r.a.createElement("input",{name:"luogo",type:"text",className:"form-control",value:c,onChange:this.changeLuogo}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Breve descrizione"),r.a.createElement("textarea",{name:"description",className:"form-control",rows:2,onChange:this.changeDesc},n)))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.modificaCorso},"Modifica corso")))}}]),t}(r.a.PureComponent),ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/coordinatori").then((function(e){var t=e.data;a.setState({tutor:t})}))},a.state={tutor:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.tutor;if(!e){var t=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:t}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-3 text-center"},"Lista dei coordinatori"),r.a.createElement("button",{className:"btn btn-success float-right mb-3",type:"button",onClick:function(){return Fe.push(b.k+"/tutor/new")}},r.a.createElement("i",{className:"fal fa-plus"})," Aggiungi coordinatore"),r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Cognome"),r.a.createElement("th",{style:{width:"30%"}},"Corso"),r.a.createElement("th",{style:{width:"10%"}},"Azioni")),e.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.nome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.cognome),r.a.createElement("td",{style:{maxWidth:0},className:"text-truncate"},e.corso),r.a.createElement("td",null,r.a.createElement(y.a,{title:"Modifica"},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white circle-btn",onClick:function(){return Fe.push(b.k+"/tutor/edit/"+e.idCoordinatore)}},r.a.createElement("i",{className:"fa fa-pen"})))))})))))}}]),t}(r.a.PureComponent),Me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get(b.j+"/api/corsi").then((function(e){var t=e.data;a.setState({listaCorsi:t,corso:t.length?t[0].idCorso:0})}))},a.changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeCognome=function(e){var t=e.target.value;a.setState({cognome:t})},a.changeEmail=function(e){var t=e.target.value.trim();a.setState({email:t})},a.changeCorso=function(e){var t=parseInt(e.target.value);a.setState({corso:t})},a.isExistingCorso=function(e){return a.state.listaCorsi.find((function(t){return t.idCorso===e}))},a.aggiungiTutor=function(){var e=a.state,t=e.nome,n=e.cognome,r=e.email,c=e.corso;""!==t.trim()&&""!==n.trim()&&""!==r?a.isExistingCorso(c)?g.a.post(b.j+"/api/coordinatori",{nome:t.trim(),cognome:n.trim(),email:r,idCorso:c}).then((function(e){L.a.success("Tutor creato con successo!"),Fe.push(b.k+"/tutor")})):j.a.error({title:"Errore!",content:"Corso non valido."}):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.state={nome:"",cognome:"",email:"",listaCorsi:null,corso:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.nome,a=e.cognome,n=e.email,c=e.listaCorsi;if(!c){var o=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:o}))}return c.length?r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Aggiungi un nuovo coordinatore"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:t,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Cognome"),r.a.createElement("input",{name:"surname",type:"text",className:"form-control",value:a,onChange:this.changeCognome}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"E-mail"),r.a.createElement("input",{name:"email",type:"text",className:"form-control",value:n,onChange:this.changeEmail})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Corso gestito"),r.a.createElement("select",{name:"anno",onChange:this.changeCorso,className:"custom-select"},c.map((function(e){return r.a.createElement("option",{value:e.idCorso},e.nome)}))))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.aggiungiTutor},"Aggiungi coordinatore"))):r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},"\xc8 necessario creare almeno un corso per poter inserire un nuovo coordinatore.")}}]),t}(r.a.PureComponent),Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Number(a.props.match.params.id);isNaN(e)&&Fe.push(b.k),g.a.get(b.j+"/api/coordinatori/"+e).then((function(e){var t=e.data;a.setState({nome:t.nome,cognome:t.cognome,email:t.email,corso:t.idCorso})})),g.a.get(b.j+"/api/corsi").then((function(e){var t=e.data;a.setState({listaCorsi:t})}))},a.changeNome=function(e){var t=e.target.value;a.setState({nome:t})},a.changeCognome=function(e){var t=e.target.value;a.setState({cognome:t})},a.changeEmail=function(e){var t=e.target.value.trim();a.setState({email:t})},a.changeCorso=function(e){var t=parseInt(e.target.value);a.setState({corso:t})},a.isExistingCorso=function(e){return a.state.listaCorsi.find((function(t){return t.idCorso===e}))},a.aggiungiTutor=function(){var e=a.state,t=e.nome,n=e.cognome,r=e.email,c=e.corso,o=a.props.match.params.id;""!==t.trim()&&""!==n.trim()&&""!==r?a.isExistingCorso(c)?g.a.put(b.j+"/api/coordinatori/"+o,{idCoordinatore:o,nome:t.trim(),cognome:n.trim(),email:r,idCorso:c}).then((function(e){L.a.success("Tutor modificato con successo!"),Fe.push(b.k+"/tutor")})):j.a.error({title:"Errore!",content:"Corso non valido."}):j.a.error({title:"Errore!",content:"Riempire tutti i campi."})},a.state={nome:"",cognome:"",email:"",listaCorsi:null,corso:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.nome,a=e.cognome,n=e.email,c=e.listaCorsi,o=e.corso;if(!c){var i=r.a.createElement(v.a,{type:"loading",style:{fontSize:50},spin:!0});return r.a.createElement("div",{className:"col px-5 py-4 right-block",id:"mainBlock"},r.a.createElement(N.a,{indicator:i}))}return r.a.createElement("div",{className:"col px-5 py-4 right-block"},r.a.createElement("h3",{className:"mb-2 text-center"},"Modifica di un coordinatore"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Nome"),r.a.createElement("input",{name:"name",type:"text",className:"form-control",value:t,onChange:this.changeNome})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Cognome"),r.a.createElement("input",{name:"surname",type:"text",className:"form-control",value:a,onChange:this.changeCognome}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"E-mail"),r.a.createElement("input",{name:"email",type:"text",className:"form-control",value:n,onChange:this.changeEmail})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"text-secondary"},"Corso gestito"),r.a.createElement("select",{name:"anno",onChange:this.changeCorso,className:"custom-select"},c.map((function(e){var t=o===e.idCorso;return r.a.createElement("option",{value:e.idCorso,selected:t},e.nome)}))))),r.a.createElement("button",{type:"button",className:"btn btn-success text-uppercase w-100",onClick:this.aggiungiTutor},"Modifica coordinatore")))}}]),t}(r.a.PureComponent),De=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentWillUnmount=function(){sessionStorage.removeItem("superSession")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return sessionStorage.getItem("superSession")?r.a.createElement("div",{className:"container-fluid"},r.a.createElement(f.b,{history:Fe},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 bg-blue p-0 menu"},r.a.createElement(I,{idCorso:0}),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.k+"/studenti")},to:b.k+"/tutor"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-users-crown fa-fw mr-1"})," Coordinatori")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){return Fe.push(b.k+"/corsi")},to:b.k+"/corsi"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-list-alt fa-fw mr-1"})," Corsi")),r.a.createElement(p.a,{className:"router-link",activeClassName:"active",onClick:function(){sessionStorage.removeItem("superSession"),Fe.push(b.k)},exact:!0,to:b.k+"/login"},r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-power-off fa-fw mr-1"})," Esci"))),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:b.k,render:function(){return Fe.push(b.k+"/tutor"),null}}),r.a.createElement(f.a,{exact:!0,path:b.k+"/tutor",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(f.a,{exact:!0,path:b.k+"/tutor/new",render:function(){return r.a.createElement(Me,null)}}),r.a.createElement(f.a,{exact:!0,path:b.k+"/tutor/edit/:id",render:function(e){return r.a.createElement(Ie,e)}}),r.a.createElement(f.a,{exact:!0,path:b.k+"/corsi",render:function(){return r.a.createElement(Se,null)}}),r.a.createElement(f.a,{exact:!0,path:b.k+"/corsi/new",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(f.a,{exact:!0,path:b.k+"/corsi/edit/:id",render:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(f.a,{render:function(){return r.a.createElement(be,{goTo:b.k})}}))))):r.a.createElement(je,null)}}]),t}(r.a.Component),Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.changeCodice=function(e){var t=e.target.value;a.setState({codice:t.trim()})},a.inviaCodice=function(e){e.preventDefault();var t=a.state.codice;g.a.post(b.j+"/api/firma/accessoremoto",t,{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;!function(e){try{return e.forEach((function(e){if(!function(e){try{return"nome"in e&&"cognome"in e&&"idStudente"in e}catch(t){return!1}}(e))return!1})),!0}catch(t){return!1}}(t)?j.a.error({title:"Errore!",content:"Il codice non corrisponde a nessun corso/classe.",centered:!0,maskClosable:!0}):(sessionStorage.setItem("confermaCasa",JSON.stringify(t)),Fe.push("/firmacasa"))}))},a.state={codice:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.codice;return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("form",{className:"w-100 bg-white p-3 rounded shadow",onSubmit:this.inviaCodice},r.a.createElement("h3",{className:"d-inline-block"},"Accesso firma da casa"),r.a.createElement(I,{forLogin:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Codice segreto"),r.a.createElement("input",{name:"username",type:"text",className:"form-control",value:e,onChange:this.changeCodice})),r.a.createElement("p",{className:"text-muted"},"Chiedi al tuo coordinatore il codice segreto per accedere alla firma da casa."),r.a.createElement("input",{type:"submit",value:"Prosegui",className:"btn btn-lg btn-success w-100 text-uppercase"})))}}]),t}(r.a.PureComponent),Le=a(457),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){Object(b.h)()},a.componentWillUnmount=function(){Object(b.l)()},a.inviaFirma=function(e){e.preventDefault();var t=a.state.selectedStudente;t?g.a.post(b.j+"/api/firmadacasa/firma",{idStudente:t.idStudente}).then((function(e){var t=e.data;j.a.info({title:t.title,content:r.a.createElement("div",{style:{marginLeft:38}},t.message),icon:r.a.createElement("i",{className:"float-left mr-3 far "+t.icon,style:{color:t.iconColor,fontSize:22}})})})):j.a.error({title:"Errore!",content:"Selezionare uno studente.",maskClosable:!0})},a.scegliStudente=function(e){a.setState({selectedStudente:e})},a.state={studenti:JSON.parse(sessionStorage.getItem("confermaCasa")),selectedStudente:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.studenti,n=t.selectedStudente;return r.a.createElement("div",{className:"col-11 col-lg-5 mx-auto",id:"loginBlock"},r.a.createElement("form",{className:"w-100 bg-white p-3 rounded shadow",onSubmit:this.inviaFirma},r.a.createElement("h3",{className:"d-inline-block"},"Firma da casa"),r.a.createElement(I,{idCorso:a[0].idCorso,forLogin:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Scegli lo studente"),r.a.createElement("div",{className:"multiselect form-control p-0"},a.map((function(t){var a=n===t,c=a?"checked":"";return r.a.createElement("label",{className:"option "+c},r.a.createElement(Le.a,{className:"mr-2",onChange:function(){return e.scegliStudente(t)},checked:a})," ",t.nome," ",t.cognome)})))),r.a.createElement("p",{className:"text-muted"},"Ricorda che non puoi firmare per altre persone!"),r.a.createElement("input",{type:"submit",value:"Firma",className:"btn btn-lg btn-success w-100 text-uppercase"})))}}]),t}(r.a.PureComponent),Ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentWillUnmount=function(){sessionStorage.removeItem("confermaCasa")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return sessionStorage.getItem("confermaCasa")?r.a.createElement(Te,null):r.a.createElement(Pe,null)}}]),t}(r.a.Component);a.d(t,"routerHistory",(function(){return Fe})),le.a.locale("it");var Fe=Object(i.b)();o.a.render(r.a.createElement(f.b,{history:Fe},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return Fe.push("/firme/"),null}}),r.a.createElement(f.a,{path:"/firme/",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(f.a,{path:b.b,render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(f.a,{path:"/userprofile",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(f.a,{path:b.k,render:function(){return r.a.createElement(De,null)}}),r.a.createElement(f.a,{path:"/firmacasa",render:function(){return r.a.createElement(Ae,null)}}),r.a.createElement(f.a,{render:function(){return r.a.createElement(be,{goTo:"/"})}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[234,1,2]]]);
//# sourceMappingURL=main.bac26581.chunk.js.map