{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\React\\\\qrlog\\\\src\\\\comp\\\\Main.tsx\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { genericError } from \"../models/IMessage\";\nexport default class Main extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.changeCode = event => {\n      let code = event.target.value;\n      this.setState({\n        code: code\n      });\n      if (code.length === 24) this.tryToLog(code);\n    };\n\n    this.tryToLog = code => {\n      axios.get(\"http://localhost:5000/checkCode/\" + code).then(response => {\n        this.setState({\n          popup: response.data\n        });\n        this.showMessagePopup();\n      }).catch(err => {\n        this.setState({\n          popup: genericError\n        });\n        this.showMessagePopup();\n      });\n    };\n\n    this.showMessagePopup = () => {\n      let popup = document.getElementById(\"popup\"),\n          input = document.getElementById(\"mainInput\");\n      popup.classList.add(\"show\");\n      input.setAttribute(\"disabled\", \"disabled\");\n      setTimeout(() => {\n        popup.classList.remove(\"show\");\n        input.value = \"\";\n        input.removeAttribute(\"disabled\");\n        input.focus();\n      }, this.state.popup.time);\n    };\n\n    this.focusInput = () => {\n      let input = document.getElementById(\"mainInput\");\n      input.focus();\n    };\n\n    this.state = {\n      code: \"\",\n      popup: genericError\n    };\n  }\n\n  render() {\n    const popup = this.state.popup;\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      onClick: this.focusInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-lg-3 bg-light p-0 menu d-none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo-block px-3 py-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://iscrizione.fitstic.it/wp-content/uploads/2015/07/Senza-titolo-1.png\",\n      height: \"100\",\n      className: \"mx-auto d-block logo\",\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-12 bg-light\",\n      id: \"mainBlock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w-100 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Scannerizza il codice\"), React.createElement(\"input\", {\n      autoFocus: true,\n      type: \"password\",\n      className: \"form-control text-center m-auto\",\n      value: this.state.code,\n      onChange: this.changeCode,\n      maxLength: 24,\n      id: \"mainInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"popup\",\n      className: \"col-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fal fa-fw fa-lg fa-6x \" + popup.icon,\n      style: {\n        color: popup.iconColor\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, popup.title), React.createElement(\"div\", {\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, popup.message)))));\n  }\n\n}","map":{"version":3,"sources":["D:/Desktop/React/qrlog/src/comp/Main.tsx"],"names":["React","axios","genericError","Main","PureComponent","constructor","props","changeCode","event","code","target","value","setState","length","tryToLog","get","then","response","popup","data","showMessagePopup","catch","err","document","getElementById","input","classList","add","setAttribute","setTimeout","remove","removeAttribute","focus","state","time","focusInput","render","icon","color","iconColor","title","message"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport axios from \"axios\"\r\nimport { IMessage, genericError } from \"../models/IMessage\"\r\n\r\nexport interface IProps{}\r\nexport interface IState{\r\n    readonly code: string\r\n    readonly popup: IMessage\r\n}\r\n\r\nexport default class Main extends React.PureComponent<IProps, IState>{\r\n    constructor(props: IProps){\r\n        super(props)\r\n\r\n        this.state = {\r\n            code: \"\",\r\n            popup: genericError\r\n        }\r\n    }\r\n\r\n    changeCode = (event: any) => {\r\n        let code = event.target.value\r\n\r\n        this.setState({\r\n            code: code\r\n        })\r\n\r\n        if(code.length === 24)\r\n            this.tryToLog(code)\r\n    }\r\n\r\n    tryToLog = (code: string) => {\r\n        axios.get(\"http://localhost:5000/checkCode/\" + code).then((response) => {\r\n            this.setState({\r\n                popup: response.data as IMessage\r\n            })\r\n\r\n            this.showMessagePopup()\r\n        }).catch((err) => {\r\n            this.setState({\r\n                popup: genericError\r\n            })\r\n\r\n            this.showMessagePopup()\r\n        })\r\n    }\r\n\r\n    showMessagePopup = () => {\r\n        let popup = document.getElementById(\"popup\"),\r\n        input = document.getElementById(\"mainInput\") as HTMLInputElement\r\n\r\n        popup.classList.add(\"show\")\r\n        input.setAttribute(\"disabled\", \"disabled\")\r\n\r\n        setTimeout(() => {\r\n            popup.classList.remove(\"show\")\r\n            input.value = \"\"\r\n            input.removeAttribute(\"disabled\")\r\n            input.focus()\r\n        }, this.state.popup.time)\r\n    }\r\n\r\n    focusInput = () => {\r\n        let input = document.getElementById(\"mainInput\") as HTMLInputElement\r\n\r\n        input.focus()\r\n    }\r\n\r\n    render(): JSX.Element{\r\n        const { popup } = this.state\r\n\r\n        return <div className=\"container-fluid\" onClick={this.focusInput}>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-lg-3 bg-light p-0 menu d-none\">\r\n                    <div className=\"logo-block px-3 py-4\">\r\n                        <img src=\"https://iscrizione.fitstic.it/wp-content/uploads/2015/07/Senza-titolo-1.png\" height=\"100\" className=\"mx-auto d-block logo\" alt=\"logo\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 bg-light\" id=\"mainBlock\">\r\n                    <div className=\"w-100 text-center\">\r\n                        <h2 className=\"text-center my-3\">Scannerizza il codice</h2>\r\n                        <input autoFocus type=\"password\" className=\"form-control text-center m-auto\" value={this.state.code} onChange={this.changeCode} maxLength={24} id=\"mainInput\" />\r\n                    </div>\r\n                </div>\r\n\r\n                    <div id=\"popup\" className=\"col-9\">\r\n                        <div className=\"w-100\">\r\n                            <i className={\"fal fa-fw fa-lg fa-6x \" + popup.icon} style={{ color: popup.iconColor}}></i>\r\n                            <h2 className=\"mt-5\">{popup.title}</h2>\r\n                            <div className=\"mt-2\">{popup.message}</div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}